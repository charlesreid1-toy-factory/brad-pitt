
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://charlesreid1-toy-factory.github.io/brad-pitt/0.2/hotfix/">
      
      <link rel="icon" href="../material/alpha-b-circle">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.2">
    
    
      
        <title>Hotfix Process - Brad Pitt</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#fixing-problems" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Brad Pitt" class="md-header__button md-logo" aria-label="Brad Pitt" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2m3 8.5V9a2 2 0 0 0-2-2H9v10h4a2 2 0 0 0 2-2v-1.5c0-.8-.7-1.5-1.5-1.5.8 0 1.5-.7 1.5-1.5M13 15h-2v-2h2v2m0-4h-2V9h2v2Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Brad Pitt
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Hotfix Process
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/charlesreid1-toy-factory/brad-pitt" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    brad-pitt
  </div>
</a>
      </div>
    
  </nav>
  
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Brad Pitt" class="md-nav__button md-logo" aria-label="Brad Pitt" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2m3 8.5V9a2 2 0 0 0-2-2H9v10h4a2 2 0 0 0 2-2v-1.5c0-.8-.7-1.5-1.5-1.5.8 0 1.5-.7 1.5-1.5M13 15h-2v-2h2v2m0-4h-2V9h2v2Z"/></svg>

    </a>
    Brad Pitt
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/charlesreid1-toy-factory/brad-pitt" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    brad-pitt
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Index
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../fightclub/" class="md-nav__link">
        Fight Club
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../interview/" class="md-nav__link">
        Interview with a Vampire
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4">
          Developers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developers" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Developers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release/" class="md-nav__link">
        Release Process
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Hotfix Process
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Hotfix Process
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fixing-problems" class="md-nav__link">
    Fixing Problems
  </a>
  
    <nav class="md-nav" aria-label="Fixing Problems">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-hotfixes-are-necessary" class="md-nav__link">
    Why Hotfixes are Necessary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hotfix-scenario" class="md-nav__link">
    Hotfix Scenario
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepare-to-apply-hotfix" class="md-nav__link">
    Prepare to Apply Hotfix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#one-off-hotfix" class="md-nav__link">
    One-Off Hotfix
  </a>
  
    <nav class="md-nav" aria-label="One-Off Hotfix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upstream-hotfix" class="md-nav__link">
    Upstream HotFix
  </a>
  
    <nav class="md-nav" aria-label="Upstream HotFix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contribute-typo-fixes" class="md-nav__link">
    Contribute Typo Fixes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-fixes-to-older-version" class="md-nav__link">
    Merge Fixes to Older Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-fixes-upstream-to-newer-version" class="md-nav__link">
    Merge Fixes Upstream to Newer Version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../artifact_releases/" class="md-nav__link">
        Artifact Release Process
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        API Reference
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fixing-problems" class="md-nav__link">
    Fixing Problems
  </a>
  
    <nav class="md-nav" aria-label="Fixing Problems">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-hotfixes-are-necessary" class="md-nav__link">
    Why Hotfixes are Necessary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hotfix-scenario" class="md-nav__link">
    Hotfix Scenario
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepare-to-apply-hotfix" class="md-nav__link">
    Prepare to Apply Hotfix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#one-off-hotfix" class="md-nav__link">
    One-Off Hotfix
  </a>
  
    <nav class="md-nav" aria-label="One-Off Hotfix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upstream-hotfix" class="md-nav__link">
    Upstream HotFix
  </a>
  
    <nav class="md-nav" aria-label="Upstream HotFix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contribute-typo-fixes" class="md-nav__link">
    Contribute Typo Fixes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-fixes-to-older-version" class="md-nav__link">
    Merge Fixes to Older Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-fixes-upstream-to-newer-version" class="md-nav__link">
    Merge Fixes Upstream to Newer Version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


  <h1>Hotfix Process</h1>

<div class="highlight"><pre><span></span><code>x.y.z
</code></pre></div>
<p>x = major version number</p>
<p>y = minor version number</p>
<p>z = patch version number</p>
<p>As mentioned on the <a href="../release/">Release Process</a> page,
hotfixes and emergency patches are released by bumping the patch version number.</p>
<h2 id="fixing-problems">Fixing Problems<a class="headerlink" href="#fixing-problems" title="Permanent link">&para;</a></h2>
<h3 id="why-hotfixes-are-necessary">Why Hotfixes are Necessary<a class="headerlink" href="#why-hotfixes-are-necessary" title="Permanent link">&para;</a></h3>
<p>A hotfix refers to a short-term quick fix for a problem with something
running in production.</p>
<p>To understand why hotfixes are necessary, consider the following scenario:
suppose you cut a release <code>1.4.y</code>, and a group of users adopts that version
and starts using it in production.</p>
<p>Separately, suppose you develop several major features and you cut a new major
release, <code>2.x</code>. Going forward, you would prefer if everyone adopted the <code>2.x</code>
branch, and all future development will focus on <code>2.x</code> (there will not be a <code>1.5</code>),
but you still have users using <code>1.4.y</code> in production.</p>
<h3 id="hotfix-scenario">Hotfix Scenario<a class="headerlink" href="#hotfix-scenario" title="Permanent link">&para;</a></h3>
<p>Suppose we have a tag for v1.4.0, which was cut some time in the past,
and since then we have created a new major version <code>2.0.0</code> and its corresponding tag.</p>
<div class="highlight"><pre><span></span><code>                    main
                    tag:v2.0.0
                    |    
              o--o--o--o--o--o
             /                develop
o--o--o--o--o
            |
            |
            tag:v1.4
</code></pre></div>
<p>Now suppose we need to fix something in <code>1.4.0</code> (which <code>tag:v1.4</code> points to). There are two scenarios:</p>
<ul>
<li>The fix for 1.4.0 fixes something that no longer applies in 2.0.0 (one-off hotfix)</li>
<li>The fix for 1.4.0 fixes something that is still in 2.0.0 (upstream hotfix)</li>
</ul>
<h3 id="prepare-to-apply-hotfix">Prepare to Apply Hotfix<a class="headerlink" href="#prepare-to-apply-hotfix" title="Permanent link">&para;</a></h3>
<p>Whichever approach you are going to use, you will need to create a starting branch.</p>
<p>Create a new branch starting at the commit that the v1.4 tag points to.</p>
<p>Here's how to do that:</p>
<p>Start by making sure you have the latest tags:</p>
<div class="highlight"><pre><span></span><code>git fetch --all --tags
</code></pre></div>
<p>Assuming your working directory is clean, you should be able to check out the
tag you want to apply the hotfix to:</p>
<div class="highlight"><pre><span></span><code>git checkout tags/v1.4 -b release/v1.4
</code></pre></div>
<p>Now the git diagram looks like this:</p>
<div class="highlight"><pre><span></span><code>             release/v1.4
o--o--o--o--o
            | 
            |
            tag:v1.4
</code></pre></div>
<h3 id="one-off-hotfix">One-Off Hotfix<a class="headerlink" href="#one-off-hotfix" title="Permanent link">&para;</a></h3>
<p>The following procedure is for a fix to version 1.4.y that does not affect version 2.x.</p>
<p>Starting from branch <code>release/v1.4</code>, create a new hotfix branch. Here, we call it
<code>hotfix/v1.4/fix-typos</code> but that naming convention is arbitrary:</p>
<div class="highlight"><pre><span></span><code>git checkout -b hotfix/v1.4/fix-typos
</code></pre></div>
<p>Now the git diagram looks like this:</p>
<div class="highlight"><pre><span></span><code>             hotfix/v1.4/fix-typos
             release/v1.4
o--o--o--o--o
            | 
            |
            tag:v1.4
</code></pre></div>
<p>Contribute typo fixes to version <code>1.4.0</code> with <code>git commit</code> commands:</p>
<div class="highlight"><pre><span></span><code>                     hotfix/v1.4/fix-typos
               o--o--o
              /
             /
o--o--o--o--o release/v1.4
            | 
            |
            tag:v1.4
</code></pre></div>
<p>This branch should also bump the patch version number
using the make rule:</p>
<div class="highlight"><pre><span></span><code>make bump_patch_version
</code></pre></div>
<p>For example, if the original tag v1.4 pointed to the 1.4.0 commit,
then the hotfix should bump the patch version to 1.4.1.</p>
<p>(Update the CHANGELOG too.)</p>
<p>Once all commits have been added to the hotfix and it is ready to merge back into
the release branch, open a pull request to merge <code>hotfix/v1.4/fix-typos</code> into 
<code>release/v1.4</code>.</p>
<p>Once the PR is opened, reviewed, approved, and merged, the git diagram will look like this:</p>
<div class="highlight"><pre><span></span><code>                      hotfix/v1.4/fix-typos
               o--o--o
              /       \
             /         \
o--o--o--o--o ----------o
            |            release/v1.4
            |
            tag:v1.4
</code></pre></div>
<p>Now, from the <code>release/v1.4</code> branch, run the release script,
but because this is fixing a version that is no longer the
latest version, we should only create a git tag for the
new release, we should not cut that release to main.</p>
<div class="highlight"><pre><span></span><code>make release_tag
</code></pre></div>
<p>You are ready to run bump2version to bump the patch version, <code>1.4.0</code> to <code>1.4.1</code>,
and update the <code>v1.4</code> git tag to point to the new commit:</p>
<div class="highlight"><pre><span></span><code># start with a dry run
make dryrun_bump_patch_version

# do it really
make bump_patch_version
</code></pre></div>
<p>(Note: we do not want to cut a release to main, because a newer version has already
been cut to main.)</p>
<h4 id="upstream-hotfix">Upstream HotFix<a class="headerlink" href="#upstream-hotfix" title="Permanent link">&para;</a></h4>
<p>Now let's walk through a hotfix that affects both 1.4.0 and 2.0.0.</p>
<p>Revisiting the git diagram:</p>
<div class="highlight"><pre><span></span><code>                    main
                    tag:v2.0
                    |    
              o--o--o
             /
o--o--o--o--o
            |
            |
            tag:v1.4
</code></pre></div>
<p>We can start at the common ancestor commit, which in this case is git tag v1.4.</p>
<p>We check out the hotfix branch directly from that git tag:</p>
<div class="highlight"><pre><span></span><code>git fetch --all --tags
git checkout tags/v1.4 -b hotfix/fix-typos
</code></pre></div>
<h5 id="contribute-typo-fixes">Contribute Typo Fixes<a class="headerlink" href="#contribute-typo-fixes" title="Permanent link">&para;</a></h5>
<p>Contribute typo fixes to the hotfix branch with <code>git commit</code> commands:</p>
<div class="highlight"><pre><span></span><code>                    main
                    tag:v2.0
                    |    
              o--o--o
             /              hotfix/fix-typos
o--o--o--o--o--------o--o--o
            |
            |
            tag:v1.4
</code></pre></div>
<p>Now we have to merge the hotfix into any older versions that are affected
(and their version number bumped), and merge the hotfix into the latest
version if it is affected (and its version number bumped). If the latest
branch is updated, a new release should also be cut to main.</p>
<h5 id="merge-fixes-to-older-version">Merge Fixes to Older Version<a class="headerlink" href="#merge-fixes-to-older-version" title="Permanent link">&para;</a></h5>
<p>Now we have to merge the hotfix changes into the tagged prior versions,
and bump the version number, and if this is the latest branch, cut a new
release to main.</p>
<p>Start by fetching all the tags:</p>
<div class="highlight"><pre><span></span><code>git fetch --all --tags
</code></pre></div>
<p>Now check out the tag for the older version, 1.4. Create a new release branch:</p>
<div class="highlight"><pre><span></span><code>git checkout tags/v1.4 -b release/v1.4
git merge --no-ff hotfix/fix-typos
</code></pre></div>
<p>which will result in this git diagram:</p>
<div class="highlight"><pre><span></span><code>                    main
                    tag:v2.0
                    |    
              o--o--o
             /              hotfix/fix-typos
o--o--o--o--o--------o--o--o
            |\              \
            | \--------------o
            |                 release/v1.4
            tag:v1.4
</code></pre></div>
<p>Now run bump2version to bump the patch version, <code>1.4.0</code> to <code>1.4.1</code>,
and update the <code>v1.4</code> git tag to point to the new commit:</p>
<div class="highlight"><pre><span></span><code># start with a dry run
make dryrun_bump_patch_version

# do it really
make bump_patch_version
</code></pre></div>
<p>(Note: we do not want to cut a release to main, because a newer version has already
been cut to main.)</p>
<p>This results in:</p>
<div class="highlight"><pre><span></span><code>                    main
                    tag:v2.0
                    |    
              o--o--o
             /              hotfix/fix-typos
o--o--o--o--o--------o--o--o
             \              \
              \--------------o---o
                                 | release/v1.4
                                 |
                                 |
                                 tag:v1.4
</code></pre></div>
<h5 id="merge-fixes-upstream-to-newer-version">Merge Fixes Upstream to Newer Version<a class="headerlink" href="#merge-fixes-upstream-to-newer-version" title="Permanent link">&para;</a></h5>
<p>Similarly, the hotfix can be merged into v2.0.</p>
<p>Start by fetching all the tags:</p>
<div class="highlight"><pre><span></span><code>git fetch --all --tags
</code></pre></div>
<p>Now check out the tag for the newer version, 2.0. Create a new release branch:</p>
<div class="highlight"><pre><span></span><code>git checkout tags/v2.0 -b release/v2.0
git merge --no-ff hotfix/fix-typos
</code></pre></div>
<p>This results in:</p>
<div class="highlight"><pre><span></span><code>                    main
                    tag:v2.0
                    |         release/v2.0
              o--o--o--------o
             /              /
o--o--o--o--o--------o--o--o hotfix/fix-typos
             \              \
              \--------------o---o
                                 | release/v1.4
                                 |
                                 |
                                 tag:v1.4
</code></pre></div>
<p>Now run bump2version to bump the patch version, <code>2.0.0</code> to <code>2.0.1</code>,
and update the <code>v2.0</code> git tag to point to the new commit:</p>
<div class="highlight"><pre><span></span><code># start with a dry run
make dryrun_bump_patch_version

# do it really
make bump_patch_version
</code></pre></div>
<p>This results in:</p>
<div class="highlight"><pre><span></span><code>                                 tag:v2.0
                                 |
                                 |
                                 | release/v2.0
              o--o--o--------o---o
             /              /
o--o--o--o--o--------o--o--o hotfix/fix-typos
             \              \
              \--------------o---o
                                 | release/v1.4
                                 |
                                 |
                                 tag:v1.4
</code></pre></div>
<p>Finally, because this is the latest version, run make release to cut
the newest release to the main branch:</p>
<div class="highlight"><pre><span></span><code>make release
</code></pre></div>
<p>This results in the v2.0 tag being cut to main:</p>
<div class="highlight"><pre><span></span><code>                                 main
                                 tag:v2.0
                                 |
                                 |
                                 | release/v2.0
              o--o--o--------o---o
             /              /
o--o--o--o--o--------o--o--o hotfix/fix-typos
             \              \
              \--------------o---o
                                 | release/v1.4
                                 |
                                 |
                                 tag:v1.4
</code></pre></div>




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../release/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Release Process" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Release Process
            </div>
          </div>
        </a>
      
      
        
        <a href="../artifact_releases/" class="md-footer__link md-footer__link--next" aria-label="Next: Artifact Release Process" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Artifact Release Process
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 Chaz Reid
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes", "navigation.instant", "navigation.tabs.sticky"], "search": "../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
    
  </body>
</html>